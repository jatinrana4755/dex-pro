<app-sidebar></app-sidebar>
<div class="header">
  <div class="inner-header title-head">
    <a href="#default" class="logo" >Fees</a>
  </div>
  <!-- <div class="header-right"></div> -->
</div>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Type</th>
      <th>Fee</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let fee of allFee">
       <td>{{fee?.fee}}</td>
      <td>{{fee?.value}}</td>
      <td>
        <button type="button" class="btn btn-sm btn-actions" (click)="storeInfo(fee)" data-toggle="modal" data-target="#FeeModal"><i class="fas fa-edit"></i></button>
      </td>
    </tr>
  </tbody>
    <div class="text-center loader-div" style="display: block;  top: 50%;color: #049ddc; " *ngIf="loader">
    <i class="fa fat fa-spinner fa-spin" id="loader"></i>
    <br>
    <br>
    </div>
    <br>
    <br>
    <br>
    
    </table>


<div class="modal fade" id="FeeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{storedFee?.fee}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="">
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label>{{storedFee?.fee}}</label>
              <input type="number" name="fee" [(ngModel)]="fee" [value]="storedFee?.value" #currentfee="ngModel" class="form-control" placeholder="Fees" required>
            </div>
            <hr>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-success" (click)="postFee(storedFee?.fee)"  [disabled]="currentfee.pristine || storedFee?.value == fee">Confirm <i class="fa fa-spin fa-spinner" *ngIf="postLoader"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>


